# Copyright (c) 20224 Stogl Robotics Consulting UG (haftungsbeschr√§nkt)
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

#
# Source of this file are templates in
# [RosTeamWorkspace](https://github.com/StoglRobotics/ros_team_workspace) repository.
#

pr2_arm_velocity_controller:
  joints:
    type: string_array
    default_value: []
    description: "15 DoF joints controlled by this controller (2 arms + lift)."
    read_only: true
    validation:
      not_empty<>: null
      unique<>: null

  state_joints:
    type: string_array
    default_value: []
    description: "(optional) joints used for state feedback. If empty, use joints."
    read_only: true
    validation:
      unique<>: null

  urdf_package:
    type: string
    default_value: ""
    description: "Package containing the reduced 15-DoF URDF."
    read_only: true
    validation:
      not_empty<>: null

  urdf_path:
    type: string
    default_value: ""
    description: "Relative path to the reduced 15-DoF URDF file."
    read_only: true
    validation:
      not_empty<>: null

  left_end_link_name:
    type: string
    default_value: ""
    description: "Left arm end-effector link name in the reduced URDF."
    read_only: true
    validation:
      not_empty<>: null

  right_end_link_name:
    type: string
    default_value: ""
    description: "Right arm end-effector link name in the reduced URDF."
    read_only: true
    validation:
      not_empty<>: null

  # ===============================
  # Joint-space velocity PID (size = DoF = joints.size())
  # ===============================
  kp:
    type: double_array
    default_value: []
    description: "Joint velocity P gains (size = DoF)."
    read_only: false
    validation:
      not_empty<>: null

  ki:
    type: double_array
    default_value: []
    description: "Joint velocity I gains (size = DoF)."
    read_only: false
    validation:
      not_empty<>: null

  kd:
    type: double_array
    default_value: []
    description: "Joint velocity D gains (size = DoF)."
    read_only: false
    validation:
      not_empty<>: null

  ki_max:
    type: double_array
    default_value: []
    description: "Integral windup limits (size = DoF)."
    read_only: false
    validation:
      not_empty<>: null

  # ===============================
  # Torque limits (size = DoF)
  # ===============================
  effort_limit:
    type: double_array
    default_value: []
    description: "Maximum absolute torque for each joint (size = DoF)."
    read_only: true
    validation:
      not_empty<>: null

  # Optional: end-effector attached mass
  gripper_mass:
    type: double
    default_value: 0.0
    description: "Mass attached at end-effector (kg). Used for gravity compensation only."
    read_only: false
